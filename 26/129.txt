  (a) Exclusion
    (1) In general
       Gross income of an employee does not include amounts paid or incurred by the employer for dependent care assistance provided to such employee if the assistance is furnished pursuant to a program which is described in subsection (d).
    (2) Limitation of exclusion
      (A) In general
         The amount which may be excluded under paragraph (1) for dependent care assistance with respect to dependent care services provided during a taxable year shall not exceed $5,000 ($2,500 in the case of a separate return by a married individual).
      (B) Year of inclusion
         The amount of any excess under subparagraph (A) shall be included in gross income in the taxable year in which the dependent care services were provided (even if payment of dependent care assistance for such services occurs in a subsequent taxable year).
      (C) Marital status
         For purposes of this paragraph, marital status shall be determined under the rules of paragraphs (3) and (4) of section 21(e).
  (b) Earned income limitation
    (1) In general
       The amount excluded from the income of an employee under subsection (a) for any taxable year shall not exceed–
      (A) in the case of an employee who is not married at the close of such taxable year, the earned income of such employee for such taxable year, or
      (B) in the case of an employee who is married at the close of such taxable year, the lesser of–
        (i) the earned income of such employee for such taxable year, or
        (ii) the earned income of the spouse of such employee for such taxable year.
    (2) Special rule for certain spouses
       For purposes of paragraph (1), the provisions of section 21(d)(2) shall apply in determining the earned income of a spouse who is a student or incapable of caring for himself.
  (c) Payments to related individuals
     No amount paid or incurred during the taxable year of an employee by an employer in providing dependent care assistance to such employee shall be excluded under subsection (a) if such amount was paid or incurred to an individual–
    (1) with respect to whom, for such taxable year, a deduction is allowable under section 151(c) (relating to personal exemptions for dependents) to such employee or the spouse of such employee, or
    (2) who is a child of such employee (within the meaning of section 152(f)(1)) under the age of 19 at the close of such taxable year.
  (d) Dependent care assistance program
    (1) In general
       For purposes of this section a dependent care assistance program is a separate written plan of an employer for the exclusive benefit of his employees to provide such employees with dependent care assistance which meets the requirements of paragraphs (2) through (8) of this subsection. If any plan would qualify as a dependent care assistance program but for a failure to meet the requirements of this subsection, then, notwithstanding such failure, such plan shall be treated as a dependent care assistance program in the case of employees who are not highly compensated employees.
    (2) Discrimination
       The contributions or benefits provided under the plan shall not discriminate in favor of employees who are highly compensated employees (within the meaning of section 414(q)) or their dependents.
    (3) Eligibility
       The program shall benefit employees who qualify under a classification set up by the employer and found by the Secretary not to be discriminatory in favor of employees described in paragraph (2), or their dependents.
    (4) Principal shareholders or owners
       Not more than 25 percent of the amounts paid or incurred by the employer for dependent care assistance during the year may be provided for the class of individuals who are shareholders or owners (or their spouses or dependents), each of whom (on any day of the year) owns more than 5 percent of the stock or of the capital or profits interest in the employer.
    (5) No funding required
       A program referred to in paragraph (1) is not required to be funded.
    (6) Notification of eligible employees
       Reasonable notification of the availability and terms of the program shall be provided to eligible employees.
    (7) Statement of expenses
       The plan shall furnish to an employee, on or before January 31, a written statement showing the amounts paid or expenses incurred by the employer in providing dependent care assistance to such employee during the previous calendar year.
    (8) Benefits
      (A) In general
         A plan meets the requirements of this paragraph if the average benefits provided to employees who are not highly compensated employees under all plans of the employer is at least 55 percent of the average benefits provided to highly compensated employees under all plans of the employer.
      (B) Salary reduction agreements
         For purposes of subparagraph (A), in the case of any benefits provided through a salary reduction agreement, a plan may disregard any employees whose compensation is less than $25,000. For purposes of this subparagraph, the term ””compensation““ has the meaning given such term by section 414(q)(4), except that, under rules prescribed by the Secretary, an employer may elect to determine compensation on any other basis which does not discriminate in favor of highly compensated employees.
    (9) Excluded employees
       For purposes of paragraphs (3) and (8), there shall be excluded from consideration–
      (A) subject to rules similar to the rules of section 410(b)(4), employees who have not attained the age of 21 and completed 1 year of service (as defined in section 410(a)(3)), and
      (B) employees not included in a dependent care assistance program who are included in a unit of employees covered by an agreement which the Secretary finds to be a collective bargaining agreement between employee representatives and 1 or more employees, if there is evidence that dependent care benefits were the subject of good faith bargaining between such employee representatives and such employer or employers.
  (e) Definitions and special rules
     For purposes of this section–
    (1) Dependent care assistance
       The term ””dependent care assistance““ means the payment of, or provision of, those services which if paid for by the employee would be considered employment-related expenses under section 21(b)(2) (relating to expenses for household and dependent care services necessary for gainful employment).
    (2) Earned income
       The term ””earned income““ shall have the meaning given such term in section 32(c)(2), but such term shall not include any amounts paid or incurred by an employer for dependent care assistance to an employee.
    (3) Employee
       The term ””employee““ includes, for any year, an individual who is an employee within the meaning of section 401(c)(1) (relating to self-employed individuals).
    (4) Employer
       An individual who owns the entire interest in an unincorporated trade or business shall be treated as his own employer. A partnership shall be treated as the employer of each partner who is an employee within the meaning of paragraph (3).
    (5) Attribution rules
      (A) Ownership of stock
         Ownership of stock in a corporation shall be determined in accordance with the rules provided under subsections (d) and (e) of section 1563 (without regard to section 1563(e)(3)(C)).
      (B) Interest in unincorporated trade or business
         The interest of an employee in a trade or business which is not incorporated shall be determined in accordance with regulations prescribed by the Secretary, which shall be based on principles similar to the principles which apply in the case of subparagraph (A).
    (6) Utilization test not applicable
       A dependent care assistance program shall not be held or considered to fail to meet any requirements of subsection (d) (other than paragraphs (4) and (8) thereof) merely because of utilization rates for the different types of assistance made available under the program.
    (7) Disallowance of excluded amounts as credit or deduction
       No deduction or credit shall be allowed to the employee under any other section of this chapter for any amount excluded from the gross income of the employee by reason of this section.
    (8) Treatment of onsite facilities
       In the case of an onsite facility maintained by an employer, except to the extent provided in regulations, the amount of dependent care assistance provided to an employee excluded with respect to any dependent shall be based on–
      (A) utilization of the facility by a dependent of the employee, and
      (B) the value of the services provided with respect to such dependent.
    (9) Identifying information required with respect to service provider
       No amount paid or incurred by an employer for dependent care assistance provided to an employee shall be excluded from the gross income of such employee unless–
      (A) the name, address, and taxpayer identification number of the person performing the services are included on the return to which the exclusion relates, or
      (B) if such person is an organization described in section 501(c)(3) and exempt from tax under section 501(a), the name and address of such person are included on the return to which the exclusion relates.
       In the case of a failure to provide the information required under the preceding sentence, the preceding sentence shall not apply if it is shown that the taxpayer exercised due diligence in attempting to provide the information so required.
