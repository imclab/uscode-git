  (a) Writs of habeas corpus may be granted by the Supreme Court, any justice thereof, the district courts and any circuit judge within their respective jurisdictions. The order of a circuit judge shall be entered in the records of the district court of the district wherein the restraint complained of is had.
  (b) The Supreme Court, any justice thereof, and any circuit judge may decline to entertain an application for a writ of habeas corpus and may transfer the application for hearing and determination to the district court having jurisdiction to entertain it.
  (c) The writ of habeas corpus shall not extend to a prisoner unlessâ€“
    (1) He is in custody under or by color of the authority of the United States or is committed for trial before some court thereof; or
    (2) He is in custody for an act done or omitted in pursuance of an Act of Congress, or an order, process, judgment or decree of a court or judge of the United States; or
    (3) He is in custody in violation of the Constitution or laws or treaties of the United States; or
    (4) He, being a citizen of a foreign state and domiciled therein is in custody for an act done or omitted under any alleged right, title, authority, privilege, protection, or exemption claimed under the commission, order or sanction of any foreign state, or under color thereof, the validity and effect of which depend upon the law of nations; or
    (5) It is necessary to bring him into court to testify or for trial.
  (d) Where an application for a writ of habeas corpus is made by a person in custody under the judgment and sentence of a State court of a State which contains two or more Federal judicial districts, the application may be filed in the district court for the district wherein such person is in custody or in the district court for the district within which the State court was held which convicted and sentenced him and each of such district courts shall have concurrent jurisdiction to entertain the application. The district court for the district wherein such an application is filed in the exercise of its discretion and in furtherance of justice may transfer the application to the other district court for hearing and determination.
  (e)    (1) No court, justice, or judge shall have jurisdiction to hear or consider an application for a writ of habeas corpus filed by or on behalf of an alien detained by the United States who has been determined by the United States to have been properly detained as an enemy combatant or is awaiting such determination.
    (2) Except as provided in paragraphs (2) and (3) of section 1005(e) of the Detainee Treatment Act of 2005 (10 U.S.C. 801 note), no court, justice, or judge shall have jurisdiction to hear or consider any other action against the United States or its agents relating to any aspect of the detention, transfer, treatment, trial, or conditions of confinement of an alien who is or was detained by the United States and has been determined by the United States to have been properly detained as an enemy combatant or is awaiting such determination.
